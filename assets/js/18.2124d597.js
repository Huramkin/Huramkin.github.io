(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{291:function(a,s,e){"use strict";e.r(s);var n=e(5),t=Object(n.a)({},(function(){var a=this,s=a.$createElement,e=a._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("p",[a._v("用acme.sh获取免费SSL证书")]),a._v(" "),e("h2",{attrs:{id:"脚本部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#脚本部署"}},[a._v("#")]),a._v(" 脚本部署")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('curl https://get.acme.sh | sh\nsource ~/.bashrc\nexport CF_Key="asasasasasadasasas"\nexport CF_Email="example@aa.aa"\nacme.sh --issue --dns dns_cf -d aa.aa -d *.aa.aa\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br")])]),e("p",[a._v("成功运行后,证书会自动生成到用户目录下的 "),e("code",[a._v(".acme.sh")]),a._v(" 文件夹,续签证书 "),e("code",[a._v("acme.sh --renew -d aa.com -d *.aa.com")])]),a._v(" "),e("h2",{attrs:{id:"docker部署"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#docker部署"}},[a._v("#")]),a._v(" docker部署")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('docker run --rm  -itd  \\\n  -v "$(pwd)/out":/acme.sh  \\\n  -e CF_Email="example@aa.aa" \\\n  -e CF_Key="asasasasasadasasas" \\\n  --net=host \\\n  --name=acme.sh \\\n  neilpang/acme.sh daemon\n')])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br"),e("span",{staticClass:"line-number"},[a._v("2")]),e("br"),e("span",{staticClass:"line-number"},[a._v("3")]),e("br"),e("span",{staticClass:"line-number"},[a._v("4")]),e("br"),e("span",{staticClass:"line-number"},[a._v("5")]),e("br"),e("span",{staticClass:"line-number"},[a._v("6")]),e("br"),e("span",{staticClass:"line-number"},[a._v("7")]),e("br")])]),e("p",[a._v("这样配置容器可以自动续签证书")]),a._v(" "),e("p",[a._v("容器启动后开始获取证书")]),a._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("docker exec acme.sh --issue --dns dns_cf -d *.aa.aa -d aa.aa\n")])]),a._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[a._v("1")]),e("br")])]),e("h2",{attrs:{id:"参考"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[a._v("#")]),a._v(" 参考")]),a._v(" "),e("ul",[e("li",[a._v("https://github.com/Neilpang/acme.sh/wiki/Run-acme.sh-in-docker")]),a._v(" "),e("li",[a._v("https://github.com/Neilpang/acme.sh/wiki/dnsapi")]),a._v(" "),e("li",[a._v("https://hub.docker.com/r/neilpang/acme.sh")])])])}),[],!1,null,null,null);s.default=t.exports}}]);